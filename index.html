<html>
  <head>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/2.2.1/aframe/build/aframe-ar.min.js"></script>
  </head>
  <body style="margin: 0; overflow: hidden">
    <a-scene embedded arjs>
      <a-entity camera></a-entity>

      <!-- Marcadores -->
      <a-marker type="pattern" url="pattern-1.patt" id="marker1"></a-marker>
      <a-marker type="pattern" url="pattern-2.patt" id="marker2"></a-marker>
      <a-marker type="pattern" url="pattern-3.patt" id="marker3"></a-marker>

      <!-- Contenedor de cubos -->
      <a-entity id="cube-container"></a-entity>
    </a-scene>

    <script>
      const markerIds = ['marker1', 'marker2', 'marker3'];
      const createdCubes = {};

      markerIds.forEach((id, index) => {
        const marker = document.getElementById(id);

        marker.addEventListener('markerFound', () => {
          const container = document.getElementById('cube-container');

          if (!createdCubes[id]) {
            const cube = document.createElement('a-box');
            cube.setAttribute('color', ['red', 'green', 'blue'][index]);
            cube.setAttribute('depth', 1);
            cube.setAttribute('height', 1);
            cube.setAttribute('width', 1);
            createdCubes[id] = cube;
            container.appendChild(cube);
          }

          // actualizar la posición del cubo a la posición del marcador
          const pos = marker.object3D.position;
          const rot = marker.object3D.rotation;
          createdCubes[id].object3D.position.copy(pos);
          createdCubes[id].object3D.rotation.copy(rot);
        });
      });
    </script>
  </body>
</html>
